{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\n/**\r\n * 通用的方法\r\n *\r\n * @author xiaoRui\r\n */\nexport default {\n  // 展开树形数据方法\n  handleTree(data, id, parentId, children) {\n    console.log(data);\n    let config = {\n      id: id || 'id',\n      parentId: parentId || 'parentId',\n      childrenList: children || 'children'\n    };\n    var childrenListMap = {};\n    var nodeIds = {};\n    var tree = [];\n    for (let list of data) {\n      let parentId = list[config.parentId];\n      if (childrenListMap[parentId] == null) {\n        childrenListMap[parentId] = [];\n      }\n      nodeIds[list[config.id]] = list;\n      childrenListMap[parentId].push(list);\n    }\n    for (let d of data) {\n      let parentId = d[config.parentId];\n      if (nodeIds[parentId] == null) {\n        tree.push(d);\n      }\n    }\n    for (let t of tree) {\n      fillToChildrenList(t);\n    }\n    function fillToChildrenList(o) {\n      if (childrenListMap[o[config.id]] !== null) {\n        o[config.childrenList] = childrenListMap[o[config.id]];\n      }\n      if (o[config.childrenList]) {\n        for (let c of o[config.childrenList]) {\n          fillToChildrenList(c);\n        }\n      }\n    }\n    console.log(tree);\n    return tree;\n  }\n};","map":{"version":3,"names":["handleTree","data","id","parentId","children","console","log","config","childrenList","childrenListMap","nodeIds","tree","list","push","d","t","fillToChildrenList","o","c"],"sources":["/Users/kqwang/development/gowork/src/github.com/892294101/jx/jxweb/src/utils/common.js"],"sourcesContent":["/**\r\n * 通用的方法\r\n *\r\n * @author xiaoRui\r\n */\r\nexport default {\r\n    // 展开树形数据方法\r\n    handleTree(data, id, parentId, children) {\r\n        console.log(data)\r\n        \r\n        let config = {\r\n            id: id || 'id',\r\n            parentId: parentId || 'parentId',\r\n            childrenList: children || 'children'\r\n        };\r\n        var childrenListMap = {};\r\n        var nodeIds = {};\r\n        var tree = [];\r\n        for (let list of data) {\r\n            let parentId = list[config.parentId];\r\n            if (childrenListMap[parentId] == null) {\r\n                childrenListMap[parentId] = [];\r\n            }\r\n            nodeIds[list[config.id]] = list;\r\n            childrenListMap[parentId].push(list);\r\n        }\r\n        for (let d of data) {\r\n            let parentId = d[config.parentId];\r\n            if (nodeIds[parentId] == null) {\r\n                tree.push(d);\r\n            }\r\n        }\r\n        for (let t of tree) {\r\n            fillToChildrenList(t);\r\n        }\r\n        function fillToChildrenList(o) {\r\n            if (childrenListMap[o[config.id]] !== null) {\r\n                o[config.childrenList] = childrenListMap[o[config.id]];\r\n            }\r\n            if (o[config.childrenList]) {\r\n                for (let c of o[config.childrenList]) {\r\n                    fillToChildrenList(c);\r\n                }\r\n            }\r\n        }\r\n\r\n        console.log(tree)\r\n        return tree;\r\n    }\r\n}"],"mappings":";AAAA;AACA;AACA;AACA;AACA;AACA,eAAe;EACX;EACAA,UAAUA,CAACC,IAAI,EAAEC,EAAE,EAAEC,QAAQ,EAAEC,QAAQ,EAAE;IACrCC,OAAO,CAACC,GAAG,CAACL,IAAI,CAAC;IAEjB,IAAIM,MAAM,GAAG;MACTL,EAAE,EAAEA,EAAE,IAAI,IAAI;MACdC,QAAQ,EAAEA,QAAQ,IAAI,UAAU;MAChCK,YAAY,EAAEJ,QAAQ,IAAI;IAC9B,CAAC;IACD,IAAIK,eAAe,GAAG,CAAC,CAAC;IACxB,IAAIC,OAAO,GAAG,CAAC,CAAC;IAChB,IAAIC,IAAI,GAAG,EAAE;IACb,KAAK,IAAIC,IAAI,IAAIX,IAAI,EAAE;MACnB,IAAIE,QAAQ,GAAGS,IAAI,CAACL,MAAM,CAACJ,QAAQ,CAAC;MACpC,IAAIM,eAAe,CAACN,QAAQ,CAAC,IAAI,IAAI,EAAE;QACnCM,eAAe,CAACN,QAAQ,CAAC,GAAG,EAAE;MAClC;MACAO,OAAO,CAACE,IAAI,CAACL,MAAM,CAACL,EAAE,CAAC,CAAC,GAAGU,IAAI;MAC/BH,eAAe,CAACN,QAAQ,CAAC,CAACU,IAAI,CAACD,IAAI,CAAC;IACxC;IACA,KAAK,IAAIE,CAAC,IAAIb,IAAI,EAAE;MAChB,IAAIE,QAAQ,GAAGW,CAAC,CAACP,MAAM,CAACJ,QAAQ,CAAC;MACjC,IAAIO,OAAO,CAACP,QAAQ,CAAC,IAAI,IAAI,EAAE;QAC3BQ,IAAI,CAACE,IAAI,CAACC,CAAC,CAAC;MAChB;IACJ;IACA,KAAK,IAAIC,CAAC,IAAIJ,IAAI,EAAE;MAChBK,kBAAkB,CAACD,CAAC,CAAC;IACzB;IACA,SAASC,kBAAkBA,CAACC,CAAC,EAAE;MAC3B,IAAIR,eAAe,CAACQ,CAAC,CAACV,MAAM,CAACL,EAAE,CAAC,CAAC,KAAK,IAAI,EAAE;QACxCe,CAAC,CAACV,MAAM,CAACC,YAAY,CAAC,GAAGC,eAAe,CAACQ,CAAC,CAACV,MAAM,CAACL,EAAE,CAAC,CAAC;MAC1D;MACA,IAAIe,CAAC,CAACV,MAAM,CAACC,YAAY,CAAC,EAAE;QACxB,KAAK,IAAIU,CAAC,IAAID,CAAC,CAACV,MAAM,CAACC,YAAY,CAAC,EAAE;UAClCQ,kBAAkB,CAACE,CAAC,CAAC;QACzB;MACJ;IACJ;IAEAb,OAAO,CAACC,GAAG,CAACK,IAAI,CAAC;IACjB,OAAOA,IAAI;EACf;AACJ,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}