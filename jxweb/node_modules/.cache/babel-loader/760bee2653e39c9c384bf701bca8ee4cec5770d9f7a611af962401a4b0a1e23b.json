{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\n/**\r\n * 通用的方法\r\n *\r\n * @author xiaoRui\r\n */\nexport default {\n  // 展开树形数据方法\n  handleTree(data, id, parentId, children) {\n    let config = {\n      id: id || 'id',\n      parentId: parentId || 'parentId',\n      childrenList: children || 'children'\n    };\n    var childrenListMap = {};\n    var nodeIds = {};\n    var tree = [];\n    for (let d of data) {\n      let parentId = d[config.parentId];\n      if (childrenListMap[parentId] == null) {\n        childrenListMap[parentId] = [];\n      }\n      nodeIds[d[config.id]] = d;\n      childrenListMap[parentId].push(d);\n    }\n    for (let d of data) {\n      let parentId = d[config.parentId];\n      if (nodeIds[parentId] == null) {\n        tree.push(d);\n      }\n    }\n    for (let t of tree) {\n      adaptToChildrenList(t);\n    }\n    function adaptToChildrenList(o) {\n      if (childrenListMap[o[config.id]] !== null) {\n        o[config.childrenList] = childrenListMap[o[config.id]];\n      }\n      if (o[config.childrenList]) {\n        for (let c of o[config.childrenList]) {\n          adaptToChildrenList(c);\n        }\n      }\n    }\n    return tree;\n  }\n};","map":{"version":3,"names":["handleTree","data","id","parentId","children","config","childrenList","childrenListMap","nodeIds","tree","d","push","t","adaptToChildrenList","o","c"],"sources":["/Users/kqwang/development/gowork/src/github.com/892294101/jx/jxweb/src/utils/common.js"],"sourcesContent":["/**\r\n * 通用的方法\r\n *\r\n * @author xiaoRui\r\n */\r\nexport default {\r\n    // 展开树形数据方法\r\n    handleTree(data, id, parentId, children) {\r\n        let config = {\r\n            id: id || 'id',\r\n            parentId: parentId || 'parentId',\r\n            childrenList: children || 'children'\r\n        };\r\n        var childrenListMap = {};\r\n        var nodeIds = {};\r\n        var tree = [];\r\n        for (let d of data) {\r\n            let parentId = d[config.parentId];\r\n            if (childrenListMap[parentId] == null) {\r\n                childrenListMap[parentId] = [];\r\n            }\r\n            nodeIds[d[config.id]] = d;\r\n            childrenListMap[parentId].push(d);\r\n        }\r\n        for (let d of data) {\r\n            let parentId = d[config.parentId];\r\n            if (nodeIds[parentId] == null) {\r\n                tree.push(d);\r\n            }\r\n        }\r\n        for (let t of tree) {\r\n            adaptToChildrenList(t);\r\n        }\r\n        function adaptToChildrenList(o) {\r\n            if (childrenListMap[o[config.id]] !== null) {\r\n                o[config.childrenList] = childrenListMap[o[config.id]];\r\n            }\r\n            if (o[config.childrenList]) {\r\n                for (let c of o[config.childrenList]) {\r\n                    adaptToChildrenList(c);\r\n                }\r\n            }\r\n        }\r\n        return tree;\r\n    }\r\n}"],"mappings":";AAAA;AACA;AACA;AACA;AACA;AACA,eAAe;EACX;EACAA,UAAUA,CAACC,IAAI,EAAEC,EAAE,EAAEC,QAAQ,EAAEC,QAAQ,EAAE;IACrC,IAAIC,MAAM,GAAG;MACTH,EAAE,EAAEA,EAAE,IAAI,IAAI;MACdC,QAAQ,EAAEA,QAAQ,IAAI,UAAU;MAChCG,YAAY,EAAEF,QAAQ,IAAI;IAC9B,CAAC;IACD,IAAIG,eAAe,GAAG,CAAC,CAAC;IACxB,IAAIC,OAAO,GAAG,CAAC,CAAC;IAChB,IAAIC,IAAI,GAAG,EAAE;IACb,KAAK,IAAIC,CAAC,IAAIT,IAAI,EAAE;MAChB,IAAIE,QAAQ,GAAGO,CAAC,CAACL,MAAM,CAACF,QAAQ,CAAC;MACjC,IAAII,eAAe,CAACJ,QAAQ,CAAC,IAAI,IAAI,EAAE;QACnCI,eAAe,CAACJ,QAAQ,CAAC,GAAG,EAAE;MAClC;MACAK,OAAO,CAACE,CAAC,CAACL,MAAM,CAACH,EAAE,CAAC,CAAC,GAAGQ,CAAC;MACzBH,eAAe,CAACJ,QAAQ,CAAC,CAACQ,IAAI,CAACD,CAAC,CAAC;IACrC;IACA,KAAK,IAAIA,CAAC,IAAIT,IAAI,EAAE;MAChB,IAAIE,QAAQ,GAAGO,CAAC,CAACL,MAAM,CAACF,QAAQ,CAAC;MACjC,IAAIK,OAAO,CAACL,QAAQ,CAAC,IAAI,IAAI,EAAE;QAC3BM,IAAI,CAACE,IAAI,CAACD,CAAC,CAAC;MAChB;IACJ;IACA,KAAK,IAAIE,CAAC,IAAIH,IAAI,EAAE;MAChBI,mBAAmB,CAACD,CAAC,CAAC;IAC1B;IACA,SAASC,mBAAmBA,CAACC,CAAC,EAAE;MAC5B,IAAIP,eAAe,CAACO,CAAC,CAACT,MAAM,CAACH,EAAE,CAAC,CAAC,KAAK,IAAI,EAAE;QACxCY,CAAC,CAACT,MAAM,CAACC,YAAY,CAAC,GAAGC,eAAe,CAACO,CAAC,CAACT,MAAM,CAACH,EAAE,CAAC,CAAC;MAC1D;MACA,IAAIY,CAAC,CAACT,MAAM,CAACC,YAAY,CAAC,EAAE;QACxB,KAAK,IAAIS,CAAC,IAAID,CAAC,CAACT,MAAM,CAACC,YAAY,CAAC,EAAE;UAClCO,mBAAmB,CAACE,CAAC,CAAC;QAC1B;MACJ;IACJ;IACA,OAAON,IAAI;EACf;AACJ,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}