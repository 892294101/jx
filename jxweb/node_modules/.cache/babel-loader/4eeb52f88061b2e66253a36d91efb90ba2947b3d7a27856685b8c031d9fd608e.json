{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\n/**\r\n * 通用的方法\r\n *\r\n * @author xiaoRui\r\n */\nexport default {\n  // 展开树形数据方法\n  handleTree(data, id, parentId, children) {\n    let config = {\n      id: id || 'id',\n      parentId: parentId || 'parentId',\n      childrenList: children || 'children'\n    };\n    var childrenListMap = {};\n    var nodeIds = {};\n    var tree = [];\n    // 组装菜单\n    for (let list of data) {\n      let parentId = list[config.parentId];\n      if (childrenListMap[parentId] == null) {\n        childrenListMap[parentId] = [];\n      }\n      nodeIds[list[config.id]] = list;\n      childrenListMap[parentId].push(list);\n    }\n    for (let list of data) {\n      let parentId = list[config.parentId];\n      if (nodeIds[parentId] == null) {\n        tree.push(list);\n      }\n    }\n    for (let t of tree) {\n      fillToChildrenList(t);\n    }\n    function fillToChildrenList(o) {\n      if (childrenListMap[o[config.id]] !== null) {\n        o[config.childrenList] = childrenListMap[o[config.id]];\n      }\n      if (o[config.childrenList]) {\n        for (let c of o[config.childrenList]) {\n          fillToChildrenList(c);\n        }\n      }\n    }\n    return tree;\n  }\n};","map":{"version":3,"names":["handleTree","data","id","parentId","children","config","childrenList","childrenListMap","nodeIds","tree","list","push","t","fillToChildrenList","o","c"],"sources":["/Users/kqwang/development/gowork/src/github.com/892294101/jx/jxweb/src/utils/common.js"],"sourcesContent":["/**\r\n * 通用的方法\r\n *\r\n * @author xiaoRui\r\n */\r\nexport default {\r\n    // 展开树形数据方法\r\n    handleTree(data, id, parentId, children) {\r\n        let config = {\r\n            id: id || 'id',\r\n            parentId: parentId || 'parentId',\r\n            childrenList: children || 'children',\r\n        };\r\n        var childrenListMap = {};\r\n        var nodeIds = {};\r\n        var tree = [];\r\n        // 组装菜单\r\n        for (let list of data) {\r\n            let parentId = list[config.parentId];\r\n            if (childrenListMap[parentId] == null) {\r\n                childrenListMap[parentId] = [];\r\n            }\r\n            nodeIds[list[config.id]] = list;\r\n            childrenListMap[parentId].push(list);\r\n        }\r\n        for (let list of data) {\r\n            let parentId = list[config.parentId];\r\n            if (nodeIds[parentId] == null) {\r\n                tree.push(list);\r\n            }\r\n        }\r\n        for (let t of tree) {\r\n            fillToChildrenList(t);\r\n        }\r\n\r\n        function fillToChildrenList(o) {\r\n            if (childrenListMap[o[config.id]] !== null) {\r\n                o[config.childrenList] = childrenListMap[o[config.id]];\r\n            }\r\n            if (o[config.childrenList]) {\r\n                for (let c of o[config.childrenList]) {\r\n                    fillToChildrenList(c);\r\n                }\r\n            }\r\n        }\r\n\r\n        return tree;\r\n    }\r\n}"],"mappings":";AAAA;AACA;AACA;AACA;AACA;AACA,eAAe;EACX;EACAA,UAAUA,CAACC,IAAI,EAAEC,EAAE,EAAEC,QAAQ,EAAEC,QAAQ,EAAE;IACrC,IAAIC,MAAM,GAAG;MACTH,EAAE,EAAEA,EAAE,IAAI,IAAI;MACdC,QAAQ,EAAEA,QAAQ,IAAI,UAAU;MAChCG,YAAY,EAAEF,QAAQ,IAAI;IAC9B,CAAC;IACD,IAAIG,eAAe,GAAG,CAAC,CAAC;IACxB,IAAIC,OAAO,GAAG,CAAC,CAAC;IAChB,IAAIC,IAAI,GAAG,EAAE;IACb;IACA,KAAK,IAAIC,IAAI,IAAIT,IAAI,EAAE;MACnB,IAAIE,QAAQ,GAAGO,IAAI,CAACL,MAAM,CAACF,QAAQ,CAAC;MACpC,IAAII,eAAe,CAACJ,QAAQ,CAAC,IAAI,IAAI,EAAE;QACnCI,eAAe,CAACJ,QAAQ,CAAC,GAAG,EAAE;MAClC;MACAK,OAAO,CAACE,IAAI,CAACL,MAAM,CAACH,EAAE,CAAC,CAAC,GAAGQ,IAAI;MAC/BH,eAAe,CAACJ,QAAQ,CAAC,CAACQ,IAAI,CAACD,IAAI,CAAC;IACxC;IACA,KAAK,IAAIA,IAAI,IAAIT,IAAI,EAAE;MACnB,IAAIE,QAAQ,GAAGO,IAAI,CAACL,MAAM,CAACF,QAAQ,CAAC;MACpC,IAAIK,OAAO,CAACL,QAAQ,CAAC,IAAI,IAAI,EAAE;QAC3BM,IAAI,CAACE,IAAI,CAACD,IAAI,CAAC;MACnB;IACJ;IACA,KAAK,IAAIE,CAAC,IAAIH,IAAI,EAAE;MAChBI,kBAAkB,CAACD,CAAC,CAAC;IACzB;IAEA,SAASC,kBAAkBA,CAACC,CAAC,EAAE;MAC3B,IAAIP,eAAe,CAACO,CAAC,CAACT,MAAM,CAACH,EAAE,CAAC,CAAC,KAAK,IAAI,EAAE;QACxCY,CAAC,CAACT,MAAM,CAACC,YAAY,CAAC,GAAGC,eAAe,CAACO,CAAC,CAACT,MAAM,CAACH,EAAE,CAAC,CAAC;MAC1D;MACA,IAAIY,CAAC,CAACT,MAAM,CAACC,YAAY,CAAC,EAAE;QACxB,KAAK,IAAIS,CAAC,IAAID,CAAC,CAACT,MAAM,CAACC,YAAY,CAAC,EAAE;UAClCO,kBAAkB,CAACE,CAAC,CAAC;QACzB;MACJ;IACJ;IAEA,OAAON,IAAI;EACf;AACJ,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}