{"ast":null,"code":"/**\r\n * 获取权限配置\r\n * \r\n * @author xiaoRui\r\n*/\nimport { checkAuthority } from \"@/utils/authority\";\nimport storage from \"@/utils/storage\";\nexport default {\n  inserted(el, binding, vnode) {\n    const {\n      value\n    } = binding;\n    const permissions = storage.getItem('permissionList') || [];\n    const hasPermission = checkAuthority(value, permissions);\n    if (!hasPermission) {\n      if (el.parentNode) {\n        el.parentNode.removeChild(el);\n      } else {\n        el.innerHTML = '';\n      }\n    } else {\n      el && el.setAttribute('code', value);\n    }\n  }\n};","map":{"version":3,"names":["checkAuthority","storage","inserted","el","binding","vnode","value","permissions","getItem","hasPermission","parentNode","removeChild","innerHTML","setAttribute"],"sources":["/Users/kqwang/development/gowork/src/github.com/892294101/jx/jxweb/src/permission/Authority.js"],"sourcesContent":["/**\r\n * 获取权限配置\r\n * \r\n * @author xiaoRui\r\n*/\r\nimport { checkAuthority } from \"@/utils/authority\"\r\nimport storage from \"@/utils/storage\"\r\n\r\nexport default {\r\n    inserted(el, binding, vnode) {\r\n        const { value } = binding\r\n        const permissions = storage.getItem('permissionList') || []\r\n        const hasPermission = checkAuthority(value, permissions)\r\n        if (!hasPermission) {\r\n            if (el.parentNode) {\r\n                el.parentNode.removeChild(el)\r\n            } else {\r\n                el.innerHTML = ''\r\n            }\r\n        } else {\r\n            el && el.setAttribute('code', value)\r\n        }\r\n    }\r\n}"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA,SAASA,cAAc,QAAQ,mBAAmB;AAClD,OAAOC,OAAO,MAAM,iBAAiB;AAErC,eAAe;EACXC,QAAQA,CAACC,EAAE,EAAEC,OAAO,EAAEC,KAAK,EAAE;IACzB,MAAM;MAAEC;IAAM,CAAC,GAAGF,OAAO;IACzB,MAAMG,WAAW,GAAGN,OAAO,CAACO,OAAO,CAAC,gBAAgB,CAAC,IAAI,EAAE;IAC3D,MAAMC,aAAa,GAAGT,cAAc,CAACM,KAAK,EAAEC,WAAW,CAAC;IACxD,IAAI,CAACE,aAAa,EAAE;MAChB,IAAIN,EAAE,CAACO,UAAU,EAAE;QACfP,EAAE,CAACO,UAAU,CAACC,WAAW,CAACR,EAAE,CAAC;MACjC,CAAC,MAAM;QACHA,EAAE,CAACS,SAAS,GAAG,EAAE;MACrB;IACJ,CAAC,MAAM;MACHT,EAAE,IAAIA,EAAE,CAACU,YAAY,CAAC,MAAM,EAAEP,KAAK,CAAC;IACxC;EACJ;AACJ,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}